(function(e){function t(t){for(var i,n,s=t[0],o=t[1],l=t[2],p=0,u=[];p<s.length;p++)n=s[p],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);d&&d(t);while(u.length)u.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],i=!0,s=1;s<r.length;s++){var o=r[s];0!==a[o]&&(i=!1)}i&&(c.splice(t--,1),e=n(n.s=r[0]))}return e}var i={},a={app:0},c=[];function n(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/TypeScript-vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=o;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0e14":function(e,t,r){},3943:function(e,t,r){},5490:function(e,t,r){e.exports=r.p+"img/like_active.af4c1a1a.svg"},7444:function(e,t,r){e.exports=r.p+"img/like.87863622.svg"},"8bc5":function(e,t,r){"use strict";r("0e14")},"97a8":function(e){e.exports=JSON.parse('[{"id":"1","name":"Ручка дверная","code":"L422WH","price":{"old_price":400,"current_price":355},"image":{"url":"/pic/pic1.png"},"material":1},{"id":"2","name":"Ручка, нержавеющ сталь","code":"L423WH","price":{"old_price":400.9,"current_price":355.555},"image":{"url":"/pic/pic2.png"},"material":2},{"id":"3","name":"Стандартные петли","code":"P424WN","price":{"old_price":null,"current_price":75},"image":{"url":"/pic/pic3.png"},"material":2},{"id":"4","name":"Петля со стопором","code":"PW5AC","price":{"old_price":270,"current_price":200},"image":{"url":"/pic/pic4.png"},"material":2},{"id":"5","name":"Ручка дверная","code":"LM352","price":{"old_price":null,"current_price":720},"image":{"url":"/pic/pic1.png"},"material":1},{"id":"6","name":"Ручка, нержавеющ сталь","code":null,"price":{"old_price":null,"current_price":355.555},"image":{"url":"/pic/pic2.png"},"material":2},{"id":"7","name":"Стандартные петли","code":"WD14LK","price":{"old_price":null,"current_price":75},"image":{"url":"/pic/pic3.png"},"material":2},{"id":"8","name":"Петля со стопором","code":null,"price":{"old_price":1200,"current_price":900},"image":{"url":"/pic/pic4.png"},"material":2}]')},9888:function(e,t,r){e.exports=r.p+"img/shopping_active.b526624a.svg"},aa62:function(e,t,r){"use strict";r("3943")},ab34:function(e,t,r){e.exports=r.p+"img/shopping.30ac1bf5.svg"},b33a:function(e){e.exports=JSON.parse('[{"id":"1","name":"Дерево"},{"id":"2","name":"Металл"}]')},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app"},[r("Main")],1)},c=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("header",{staticClass:"header"},[r("div",{staticClass:"breadcrumbs"},e._l(e.breadcrumbs,(function(t,i){return r("a",{key:i,staticClass:"breadcrumbs__item",attrs:{href:t.url}},[e._v(e._s(t.text))])})),0),r("h1",{staticClass:"main__title"},[e._v("Комплекты стеллажных систем")]),r("div",{staticClass:"selects"},[r("label",{staticClass:"select-label"},[r("span",{staticClass:"select-label__text"},[e._v("Сортировать по:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],staticClass:"select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortBy=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[e._v("Не важно")]),r("option",{attrs:{value:"asc"}},[e._v("Возрастанию цены")]),r("option",{attrs:{value:"desc"}},[e._v("Убыванию цены")])])]),r("label",{staticClass:"select-label"},[r("span",{staticClass:"select-label__text"},[e._v("Материал")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedMaterial,expression:"selectedMaterial"}],staticClass:"select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedMaterial=t.target.multiple?r:r[0]}}},[r("option",{domProps:{value:-1}},[e._v("Не важно")]),e._l(e.materials,(function(t,i){return r("option",{key:i,attrs:{placeholder:"материал"},domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2)])])]),r("main",{staticClass:"main__content-container"},e._l(e.cardsList,(function(e,t){return r("ProductCard",{key:t,attrs:{card:e,inShopping:e.inShopping,liked:e.liked}})})),1)])},s=[],o=(r("4de4"),r("fb6a"),r("159b"),r("7db0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"card"},[e.card.price.old_price?i("p",{staticClass:"card__label"},[e._v("Скидка")]):e._e(),i("img",{staticClass:"card__image",attrs:{src:"."+e.card.image.url,alt:"фото товара"}}),i("p",{staticClass:"card__code"},[e._v(e._s(e.card.code))]),i("p",{staticClass:"card__name"},[e._v(e._s(e.card.name))]),i("div",{staticClass:"card__footer"},[i("div",{staticClass:"card__price"},[e.card.price.old_price?i("p",{staticClass:"card__old-price"},[e._v(" "+e._s(e.card.price.old_price)+"₽ ")]):e._e(),i("p",{staticClass:"card__current-price"},[e._v(" "+e._s(e.card.price.current_price)+"₽ ")])]),i("div",{staticClass:"card__icon-container"},[e.inShopping?i("img",{staticClass:"icon",attrs:{src:r("9888"),alt:"shoppingAdded"},on:{click:e.deleteFromCart}}):i("img",{staticClass:"icon",attrs:{src:r("ab34"),alt:"ToShopping"},on:{click:e.toShopping}}),e.liked?i("img",{staticClass:"icon",attrs:{src:r("5490"),alt:"Liked"},on:{click:e.dislike}}):i("img",{staticClass:"icon",attrs:{src:r("7444"),alt:"Like"},on:{click:e.toLiked}})])])])])}),l=[],d=i["a"].extend({name:"ProductCard",props:{card:{type:Object},liked:{type:Boolean,default:!1},inShopping:{type:Boolean,default:!1}},methods:{toShopping:function(){this.$store.dispatch("addToLocalCart",this.card)},toLiked:function(){this.$store.dispatch("addToLiked",this.card)},dislike:function(){this.$store.dispatch("dislike",this.card)},deleteFromCart:function(){this.$store.dispatch("deleteFromCart",this.card)}}}),p=d,u=(r("aa62"),r("2877")),f=Object(u["a"])(p,o,l,!1,null,"fc901370",null),m=f.exports,_=r("b33a"),g=i["a"].extend({name:"Main",components:{ProductCard:m},created:function(){this.$store.dispatch("fetchCards"),this.$store.dispatch("fetchLocal"),this.cards=this.$store.getters.getCards},data:function(){return{cards:[],materials:_,selectedMaterial:-1,sortBy:"",breadcrumbs:[{url:"#",text:"Главная"},{url:"#",text:"Системы хранения"},{url:"#",text:"Комплекты стеллажных систем"}]}},computed:{cardsList:function(){var e=this,t=[];return t=-1!==this.selectedMaterial?this.cards.filter((function(t){if(t.material==e.selectedMaterial)return t})):this.cards.slice(),t.sort((function(t,r){return"asc"===e.sortBy?t.price.current_price-r.price.current_price:r.price.current_price-t.price.current_price})),t.forEach((function(t){e.$store.getters.getCart.find((function(e){return t.id==e.id}))?t.inShopping=!0:t.inShopping=!1,e.$store.getters.getLiked.find((function(e){return t.id==e.id}))?t.liked=!0:t.liked=!1})),t}}}),v=g,h=(r("8bc5"),Object(u["a"])(v,n,s,!1,null,"24043ec9",null)),b=h.exports,C=i["a"].extend({name:"App",components:{Main:b}}),k=C,y=Object(u["a"])(k,a,c,!1,null,null,null),S=y.exports,x=(r("a434"),r("c740"),r("2f62")),O=r("97a8");i["a"].use(x["a"]);var L=new x["a"].Store({state:{cards:[],cart:[],liked:[]},mutations:{setCart:function(e,t){e.cart=t},setLiked:function(e,t){e.liked=t},setCards:function(e,t){e.cards=t}},actions:{fetchCards:function(e){e.commit("setCards",O)},fetchLocal:function(e){if(null!==localStorage.getItem("cart")){var t=JSON.parse(localStorage.getItem("cart"));e.commit("setCart",t)}if(null!==localStorage.getItem("liked")){var r=JSON.parse(localStorage.getItem("liked"));e.commit("setLiked",r)}},addToLocalCart:function(e,t){var r=e.state.cart;r.push(t),localStorage.setItem("cart",JSON.stringify(r)),e.commit("setCart",r)},addToLiked:function(e,t){var r=e.state.liked;r.push(t),localStorage.setItem("liked",JSON.stringify(r)),e.commit("setLiked",r)},dislike:function(e,t){var r=e.state.liked;r.splice(e.state.liked.findIndex((function(e){return e.id==t.id})),1),localStorage.setItem("liked",JSON.stringify(r)),e.commit("setLiked",r)},deleteFromCart:function(e,t){var r=e.state.cart;r.splice(e.state.cart.findIndex((function(e){return e.id==t.id})),1),localStorage.setItem("cart",JSON.stringify(r)),e.commit("setCart",r)}},getters:{getCart:function(e){return e.cart},getLiked:function(e){return e.liked},getCards:function(e){return e.cards}}});r("db43");i["a"].config.productionTip=!1,new i["a"]({store:L,render:function(e){return e(S)}}).$mount("#app")},db43:function(e,t,r){}});
//# sourceMappingURL=app.e7ed316c.js.map